{"version":3,"sources":["main.js"],"names":["anchorForId","id","anchor","document","createElement","className","href","innerHTML","title","linkifyAnchors","level","containingElement","headers","getElementsByTagName","h","length","header","appendChild","setupSidebarToggle","toggleClass","toggler","querySelector","wrapper","addEventListener","e","preventDefault","indexOf","replace","window","location","pathname","style","display","contentBlock","history","HISTORY_SUPPORT","pushState","anchorScrolls","ANCHOR_REGEX","OFFSET_HEIGHT_PX","init","scrollToCurrent","bind","body","delegateAnchors","getFixedOffset","scrollIfAnchor","pushToHistory","match","rect","anchorOffset","test","getElementById","slice","getBoundingClientRect","pageYOffset","top","scrollTo","pageXOffset","hash","elem","target","nodeName","getAttribute"],"mappings":"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","file":"index.js","sourcesContent":["var anchorForId = function (id) {\r\n    var anchor = document.createElement(\"a\");\r\n    anchor.className = \"header-link\";\r\n    anchor.href = \"#\" + id;\r\n    anchor.innerHTML = `<span class=\"sr-only\">Permalink</span><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>`;\r\n    anchor.title = \"Permalink\";\r\n    return anchor;\r\n};\r\n\r\nvar linkifyAnchors = function (level, containingElement) {\r\n    var headers = containingElement.getElementsByTagName(\"h\" + level);\r\n    for (var h = 0; h < headers.length; h++) {\r\n        var header = headers[h];\r\n\r\n        if (typeof header.id !== \"undefined\" && header.id !== \"\") {\r\n            header.className += \" header\";\r\n            header.appendChild(anchorForId(header.id));\r\n        }\r\n    }\r\n};\r\n\r\nvar setupSidebarToggle = function () {\r\n    const toggleClass = \" active\";\r\n    var toggler = document.querySelector(\"#toggler\");\r\n    var wrapper = document.querySelector(\"#wrapper\");\r\n    toggler.addEventListener(\"click\", (e) => {\r\n        e.preventDefault();\r\n        if (wrapper.className.indexOf(toggleClass) > -1) {\r\n            wrapper.className = wrapper.className.replace(toggleClass, \"\");\r\n        } else {\r\n            wrapper.className += toggleClass;\r\n        }\r\n    });\r\n    if (window.location.pathname.indexOf(\"/software/api/runner.html\") > -1) {\r\n        toggler.style.display = 'none';\r\n    }\r\n};\r\n\r\nwindow.addEventListener(\"DOMContentLoaded\", () => {\r\n    var contentBlock = document.querySelector(\"article\");\r\n    if (!contentBlock) {\r\n        return;\r\n    }\r\n    for (var level = 2; level <= 3; level++) {\r\n        linkifyAnchors(level, contentBlock);\r\n    }\r\n    setupSidebarToggle();\r\n});\r\n\r\n(function (document, history, location) {\r\n    var HISTORY_SUPPORT = !!(history && history.pushState);\r\n\r\n    var anchorScrolls = {\r\n        ANCHOR_REGEX: /^#[^ ]+$/,\r\n        OFFSET_HEIGHT_PX: 60,\r\n\r\n        /**\r\n         * Establish events, and fix initial scroll position if a hash is provided.\r\n         */\r\n        init: function () {\r\n            this.scrollToCurrent();\r\n            window.addEventListener(\"hashchange\", this.scrollToCurrent.bind(this));\r\n            document.body.addEventListener(\"click\", this.delegateAnchors.bind(this));\r\n        },\r\n\r\n        /**\r\n         * Return the offset amount to deduct from the normal scroll position.\r\n         * Modify as appropriate to allow for dynamic calculations\r\n         */\r\n        getFixedOffset: function () {\r\n            return this.OFFSET_HEIGHT_PX;\r\n        },\r\n\r\n        /**\r\n         * If the provided href is an anchor which resolves to an element on the\r\n         * page, scroll to it.\r\n         * @param  {String} href\r\n         * @return {Boolean} - Was the href an anchor.\r\n         */\r\n        scrollIfAnchor: function (href, pushToHistory) {\r\n            var match, rect, anchorOffset;\r\n\r\n            if (!this.ANCHOR_REGEX.test(href)) {\r\n                return false;\r\n            }\r\n\r\n            match = document.getElementById(href.slice(1));\r\n\r\n            if (match) {\r\n                rect = match.getBoundingClientRect();\r\n                anchorOffset = window.pageYOffset + rect.top - this.getFixedOffset();\r\n                window.scrollTo(window.pageXOffset, anchorOffset);\r\n\r\n                // Add the state to history as-per normal anchor links\r\n                if (HISTORY_SUPPORT && pushToHistory) {\r\n                    history.pushState({}, document.title, location.pathname + href);\r\n                }\r\n            }\r\n\r\n            return !!match;\r\n        },\r\n\r\n        /**\r\n         * Attempt to scroll to the current location's hash.\r\n         */\r\n        scrollToCurrent: function () {\r\n            this.scrollIfAnchor(window.location.hash);\r\n        },\r\n\r\n        /**\r\n         * If the click event's target was an anchor, fix the scroll position.\r\n         */\r\n        delegateAnchors: function (e) {\r\n            var elem = e.target;\r\n\r\n            if (\r\n                elem.nodeName === \"A\" &&\r\n                this.scrollIfAnchor(elem.getAttribute(\"href\"), true)\r\n            ) {\r\n                e.preventDefault();\r\n            }\r\n        }\r\n    };\r\n\r\n    window.addEventListener(\r\n        \"DOMContentLoaded\", anchorScrolls.init.bind(anchorScrolls)\r\n    );\r\n})(window.document, window.history, window.location);\r\n"]}